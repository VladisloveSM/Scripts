# Исходный искаженный текст
# Это строка Python, которая содержит неверно интерпретированные байты win1251
garbled_text = 'Р�РЅС„РѕСЂРјР°С†РёСЏ Рѕ РїР»Р°С‚РµР»СЊС‰РёРєРµ РѕС‚СЃСѓС‚СЃС‚РІСѓСЋС‚'

# 1. Сначала мы "закодируем" строку обратно в байты, 
#    используя кодировку, в которой она была ошибочно прочитана (UTF-8).
#    Это восстановит исходную последовательность байтов Windows-1251.
win1251_bytes = garbled_text.encode('windows-1251')

# 2. Теперь мы "декодируем" эти байты правильно, 
#    используя исходную кодировку (Windows-1251).
correct_text = win1251_bytes.decode('utf-8')

print("Исправленный текст:")
print(correct_text)

# 3. Записываем исправленный текст в файл с кодировкой UTF-8
file_path = 'output_log.txt'
try:
    with open(file_path, 'w', encoding='utf-8') as f:
        f.write(correct_text)
    print(f"\nТекст успешно записан в файл '{file_path}' в кодировке UTF-8.")
except IOError as e:
    print(f"\nОшибка при записи в файл: {e}")

